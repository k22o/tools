# IndexとView

## Indexについて
### Indexのメリデメ
処理の高速化のために、Indexを利用することが多々ある。
メリデメはいかの通りである。

- メリット
    - 検索の高速化
- デメリット
    - insertなどの場合に、再度インデックスを張る処理が発生する
    - 追加でディスク容量を消費することになる

よって、以下の戦略が推奨される

- 必要になったらインデックスを張る
- やたらめったらに作成せず、利用されるクエリに応じて、最適なインデックスを作成する

### Indexが利用されているか調査する

以下のクエリで設定されてるindexを確認できる

```
show index from table名
```

また、あるselect文を実行した際に、indexが利用されているか、`explain` を利用することで検証できる。
`explain` を通常のselect文の最初につければよい。

```
explain select ... 
```


## Viewについて
### ビューの利用用途
viewは、いわばデータ取得のメカニズムで、データを保持しない。
以下のような利用用途がある。
- 利用されたなくないデータを隠す
    - 元のデータに秘密のID情報などがある場合に、それを除いたviewを作ってそれにアクセスするようにする
- データ集計を簡略化する
    - viewである程度データを成形したものを用意しておくことで、集計先が楽に利用できる
- 複雑さを隠蔽する
    - viewを用いてデータを事前成形できれば、利用側で不要なデータに頭を悩ませる必要がなくなる
- 分割されたデータを結合する
    - 大きなデータを複数のテーブルにわけることがある
    - view側でそれらを結合させるクエリを作れば、利用側はviewにアクセスするだけで済む