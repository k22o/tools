# DBMS

## DBMSとは

以下の3大機能を実現する、マネジメントシステム
- メタデータ管理
- 質問処理
- トランザクション処理

## メタデータ管理

メタデータには以下のようなものがある。これらはデータディクショナリに格納される。
- どうようなテーブルがあるか (= 外部スキーマ)
- どのような属性があるか (= 概念スキーマ)
- インデックスなどの設定 (= 内部スキーマ)

### インデックス

- インデックスは、B tree, ビットマップ, hashなどの方法で実現される




## トランザクション処理
DBおいて、1つ以上の操作をまとめて単一の処理として実行する単位をトランザクションとと呼ぶ。

### ACID特性

- **原子性 (Atomicity)**: トランザクションは全ての操作が成功するか、一切成功しないかのいずれかとなる。途中でエラーが発生した場合、全ての変更を取り消して元の状態に戻す。
- **一貫性 (Consistency)**: トランザクションの開始前と終了後でデータベースは一貫性がある状態を維持する。
- **隔離性 (Isolation)**: 複数のトランザクションが同時に実行されても、各トランザクションは互いに影響を与えず、完了するまで他のトランザクションはその変更を見られない。
- **耐久性 (Durability)**: トランザクションが完了すると、その結果は永続的であり、データベースの障害が発生しても保持される。

### ロック

ロックには以下の種類がある。
- **共有ロック**: 複数のトランザクションが同時に読み取りアクセスすることを許可する。書き込みアクセスは禁止。
- **排他/占有ロック**: トランザクションがデータを更新するときに使用される。他のトランザクションが同時に共有ロックや排他ロックを取得できない。