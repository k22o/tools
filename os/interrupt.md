# 割り込み (interrupt)

通常のプログラムの実行を中断して、特定のイベントに対応するために制御を転送する仕組み。
周辺機器からの情報を取り落とすことなく受け取ることができる。

## 割込みの種類

- **外部割込み / ハードウェア割込み**: 外部デバイスからの信号や入力が発生したときに発生
  - **マシンチェック割込み**: ハードウェアの障害発生を知らせる割込み
  - **入出力割込み**: 入出力装置の完了や中断を知らせる割込み
  - **タイマー割込み**
  - **コンソール割込み**: キーボードやマウス入力による割込み
- **内部割込み / ソフトウェア割込み**: ソフトウェア内でのエラー時や、特定の条件が満たされた場合に発生。
  - **プログラム割込み**: ゼロ割り込み、オーバーフローなど
  - **SVC割込み**: SVC命令による割込み
    - Supervisor call
      - プログラムがOSのカーネル部分に処理を依頼するための命令
      - 普通、OS自体への操作はカーネルしかできないので、カーネルに依頼を出す

## 割込み処理

1. CPUに割込みが生じる
2. 割込み前の処理の情報 (場所や元の処理の作業状態; コンテキスト) を保存しておく
3. 割込みした処理を実施する
4. 元の処理に戻る

- 割込みを制御するプログラムを、 割り込みハンドラ / 割り込みサービスルーチン (Interrupt Service Routine, ISR) と呼ぶ
- 割込処理を実行するための移動先情報は、割込みベクタと呼ばれるテーブルに存在する
